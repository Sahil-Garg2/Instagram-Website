{"version":3,"sources":["Component/Navbar.js","Component/Login.js","Component/Signup.js","Component/Home.js","Component/Profile.js","Component/createPost.js","Component/UserProfile.js","Component/reset.js","Component/forgotpassword.js","Component/SubscribeComponent.js","App.js","serviceWorker.js","index.js"],"names":["Navbar","state","search","user","bind","e","this","setState","target","value","requestOptions","method","headers","localStorage","getItem","body","JSON","stringify","query","fetch","then","res","json","data","error","catch","err","console","log","elems","document","querySelectorAll","M","Modal","init","props","l","className","to","id","data-target","style","color","type","name","onClick","clear","change1","placeholder","onChange","map","item","_id","email","Component","Login","password","emailchange","passwordchange","submit","preventDefault","test","toast","html","classes","change","setItem","token","window","location","class","SignUp","image","url","namechange","imagechange","files","FormData","append","message","Home","text","parse","comment","textChange","deletepost","posts","postId","newData","postid","filter","result","key","postedBy","float","src","photo","alt","likes","includes","unlike","like","length","title","comments","record","Signup","followers","following","mypost","maxWidth","margin","display","justifyContent","borderBottom","flexDirection","width","height","borderRadius","CreatePost","titlechange","bodychange","upload","padding","textAlign","Array","prototype","remove","i","splice","post","pathname","split","f","follow","unfollow","followId","dat","push","unfollowId","App","exact","path","Boolean","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.dbda99d4.chunk.js","sourcesContent":["import React,{Component} from 'react';\nimport {Link} from 'react-router-dom';\nimport M from 'materialize-css'\nexport default class Navbar extends Component{\n\tconstructor(){\n\t\tsuper();\n\t\tthis.state={\n\t\t\tsearch:\"\",\n\t\t\tuser:[]\n\t\t}\n\t\tthis.search=this.search.bind(this);\n\t}\n\tsearch(e){\n\t\tthis.setState({search:e.target.value});\n\t\tconst requestOptions = {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json',\n      \t\t\t\t  \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\") },\n        body: JSON.stringify({\n        \tquery:e.target.value\n        })\n    };\n\tfetch(`http://localhost:5000/search`,requestOptions)\n\t\t.then(res=>res.json())\n\t\t.then(data=>{\n\t\t\tif(data.error){\n\t\t\t\t//M.toast({html: data.error,classes:'#c62828 red darken-3'})\t\t\t\n\t\t\t}\t\n\t\t\telse{\n\t\t\t\tthis.setState({user:data.user});\n\t\t\t}\n\t\t})\n\t\t.catch(err=>{\n\t\t\tconsole.log(err);\t\t\n\t\t})\t\t\n\t}\n\tcomponentDidMount(){\n\t\t var elems = document.querySelectorAll('.modal');\n   \t\t var instances = M.Modal.init(elems);\n\t}\n\trender(){\n\t\tif(this.props.l){\n\t\treturn <div>\n\t\t<nav>\n    \t\t\t<div className=\"nav-wrapper white\">\n      \t\t\t<Link to=\"/\" className=\"brand-logo left\">Instagram</Link>\n      \t\t\t<ul id=\"nav-mobile\" className=\"right hide-on-down\">\n        \t\t<li><i data-target=\"modal1\" className=\"large material-icons modal-trigger\" style={{color:\"black\"}}>search</i></li>\n        \t\t<li><Link to=\"/profile\">Profile</Link></li>\n      \t\t<li><Link to=\"/create\">Create Post</Link></li>\n      \t\t<li><Link to=\"mysubpost\">My following </Link></li>\n      \t\t<li> <button className=\"btn waves-effect waves-light #1e88e5 red darken-1 hide-on-down\" type=\"submit\" name=\"action\" onClick={()=>{\n\t\tlocalStorage.clear();\n\t\tthis.props.change1();\n    }}>\n    Logout\n  </button></li>\n      \t\t</ul>\n    \t\t\t</div>\n    \t\t\t  <div id=\"modal1\" className=\"modal\" style={{color:\"black\"}}>\n    <div className=\"modal-content\">\n      <input type=\"text\" placeholder=\"Search User\" value={this.state.search} onChange={this.search}/>\n      \n    <ul className=\"collection\">\n    {this.state.user.map((item,id)=>{\n    \treturn <div className={id}>\n    \t<Link to={'/profile/'+item._id}><li className=\"collection-item\">{item.email}</li></Link>\n    \t\t</div>\n    \t\n    })}\n    </ul>\n    </div>\n    <div className=\"modal-footer\">\n      <button className=\"modal-close waves-effect waves-green btn-flat\">close</button>\n    </div>\n  </div>\n \n  \t\t\t</nav>\n\t\t\t \n\t\t</div>\n\t}\n\telse {\n\t\t\treturn <div>\n\t\t<nav>\n    \t\t\t<div className=\"nav-wrapper white\">\n      \t\t\t<Link to='/signin' className=\"brand-logo left\">Instagram</Link>\n      \t\t\t<ul id=\"nav-mobile\" className=\"right hide-on-down\">\n     \t\t\t   <li><Link to=\"/signin\">Login</Link></li>\n        \t\t<li><Link to=\"/Signup\">Signup</Link></li>\n      \t\t</ul>\n    \t\t\t</div>\n  \t\t\t</nav> \n\t\t</div>\n\t}\n\t}\n}\n/*\nprofile\ncreate post\n*/\n","import React,{Component} from 'react';\nimport {Link,Redirect} from 'react-router-dom';\nimport M from 'materialize-css';\nexport default class Login extends Component{\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state={\n\t\t\temail:\"\",\n\t\t\tpassword:\"\"\t\t\n\t\t}\n\t\tthis.emailchange=this.emailchange.bind(this);\n\t\tthis.passwordchange=this.passwordchange.bind(this);\n\t\tthis.submit=this.submit.bind(this);\n\t}\n\temailchange(e){\n\t\tthis.setState({email:e.target.value});\t\n\t}\n\tpasswordchange(e){\n\t\tthis.setState({password:e.target.value});\t\n\t}\n\tsubmit(e){\n\te.preventDefault();\n\tif(!/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(this.state.email)){\n\t\t\tM.toast({html: 'Invalid email address',classes:'#c62828 red darken-3'})\t\n\t}\n\telse{\n\tconst requestOptions = {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n\t\t\t\tpassword:this.state.password,\n\t\t\t\temail:this.state.email})\n    };\n\tfetch(`http://localhost:5000/signin`,requestOptions)\n\t\t.then(res=>res.json())\n\t\t.then(data=>{\n\t\t\tif(data.error){\n\t\t\t\tM.toast({html: data.error,classes:'#c62828 red darken-3'})\t\t\t\n\t\t\t}\t\n\t\t\telse{\n\t\t\t\tM.toast({html: 'Signin Successfully',classes:\"#388e3c green darken-2\"});\n\t\t\t\tthis.props.change();\n\t\t\t\tlocalStorage.setItem(\"jwt\",data.token);\n\t\t\t\tconsole.log(data.user);\n\t\t\t\tlocalStorage.setItem(\"user\",JSON.stringify(data.user));\n\t\t\t\twindow.location='/';\n\t\t\t}\n\t\t})\n\t\t.catch(err=>{\n\t\t\tconsole.log(err);\t\t\n\t\t})\n\t}\n\t}\n\trender(){\n\t\tif(!this.props.l){\n\t\treturn<div class=\"mycard\">\n      <div className=\"card authcard input-field\">\n        <h2>Instagram</h2>\n        <input type=\"text\" placeholder=\"Email\" value={this.state.email} onChange={this.emailchange}/>\n        <input type=\"text\" placeholder=\"Password\" value={this.password} onChange={this.passwordchange}/>\n          <button className=\"btn waves-effect waves-light #1e88e5 blue darken-1\" type=\"submit\" name=\"action\" onClick={this.submit}>\n    <i className=\" right #1e88e5 blue darken-1\">Login</i>\n  </button>\n    <h5>\n  <Link to=\"/signup\">Don't have an account ?</Link>\n  </h5>\n  </div>\n\t\t</div>\n\t}\n\telse{\n\t\treturn <Redirect to=\"/\"/>\t\n\t}\n\t}\n}\n","import React,{Component} from 'react';\nimport {Link,Redirect} from 'react-router-dom';\nimport M from 'materialize-css';\n\n// sendgrid api key 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\nexport default class SignUp extends Component{\n\t\n\tconstructor(props){\n\t\tsuper(props);\n\t\tvar l=true;\n\t\tif(!localStorage.getItem('jwt')){\n\t\t\tl=false;\t\t\n\t\t}\t\n\t\tthis.state={\n\t\t\tname:\"\",\n\t\t\temail:\"\",\n\t\t\tpassword:\"\",l,\n\t\t\timage:\"\",\n\t\t\turl:\"\"\t\n\t\t}\n\t\tthis.namechange=this.namechange.bind(this);\n\t\tthis.emailchange=this.emailchange.bind(this);\n\t\tthis.passwordchange=this.passwordchange.bind(this);\n\t\tthis.submit=this.submit.bind(this);\n\t\tthis.imagechange=this.imagechange.bind(this);\n\t}\n\timagechange(e){\n\t\tthis.setState({image:e.target.files[0]});\t\n\t}\n\tnamechange(e){\n\t\tthis.setState({name:e.target.value});\n\t}\n\temailchange(e){\n\t\tthis.setState({email:e.target.value});\t\n\t}\n\tpasswordchange(e){\n\t\tthis.setState({password:e.target.value});\t\n\t}\n\tsubmit(e){\n\te.preventDefault();\n\tif(!/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(this.state.email)){\n\t\t\tM.toast({html: 'Invalid email address',classes:'#c62828 red darken-3'})\t\n\t}\n\telse{\n\t\tif(this.state.image){\n\t\tconst data = new FormData()\n\t\tdata.append(\"file\",this.state.image);\n\t\tdata.append(\"upload_preset\",\"InstramClone\");\n\t\tdata.append(\"cloud_name\",\"instagram-image\");\n\t\tfetch(\"https://api.cloudinary.com/v1_1/instagram-image/image/upload\",{\n\t\t\tmethod:\"POST\",\n\t\t\tbody:data\t\t\n\t\t})\t\n\t\t.then(res=>res.json())\n\t\t.then(data=>{\n\t\t\tconsole.log(data.url);\n\t\t\tthis.setState({url:data.url});\t\n\t\t\tconst requestOptions = {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({name:this.state.name,\n\t\t\t\tpassword:this.state.password,\n\t\t\t\temail:this.state.email,\n\t\t\t\turl:this.state.url})\n    };\n\tfetch(`http://localhost:5000/signup`,requestOptions)\n\t\t.then(res=>res.json())\n\t\t.then(data=>{\n\t\t\tif(data.error){\n\t\t\t\tM.toast({html: data.error,classes:'#c62828 red darken-3'})\t\t\t\n\t\t\t}\t\n\t\t\telse{\n\t\t\t\tM.toast({html: data.message,classes:\"#388e3c green darken-2\"});\n\t\t\t\twindow.location='/signin';\t\n\t\t\t}\n\t\t})\n\t\t.catch(err=>{\n\t\t\tconsole.log(err);\t\t\n\t\t})\n\t\t})\n\t\t.catch(err=>{console.log(err)});\n\t\n\t}\n\telse{\n\t\tconst requestOptions = {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({name:this.state.name,\n\t\t\t\tpassword:this.state.password,\n\t\t\t\temail:this.state.email,\n\t\t\t\turl:this.state.url})\n    };\n\tfetch(`http://localhost:5000/signup`,requestOptions)\n\t\t.then(res=>res.json())\n\t\t.then(data=>{\n\t\t\tif(data.error){\n\t\t\t\tM.toast({html: data.error,classes:'#c62828 red darken-3'})\t\t\t\n\t\t\t}\t\n\t\t\telse{\n\t\t\t\tM.toast({html: data.message,classes:\"#388e3c green darken-2\"});\n\t\t\t\twindow.location='/signin';\t\n\t\t\t}\n\t\t})\n\t\t.catch(err=>{\n\t\t\tconsole.log(err);\t\t\n\t\t})\t\t\n}\n}\n\t}\n\trender(){\n\t\tif(!this.state.l){\n\t\treturn<div class=\"mycard\">\n      <div className=\"card authcard input-field\">\n        <h2>Instagram</h2>\n        <input type=\"text\" placeholder=\"Name\" value={this.state.name} onChange={this.namechange}/>\n        <input type=\"text\" placeholder=\"Email\" value={this.state.email} onChange={this.emailchange}/>\n        <input type=\"text\" placeholder=\"Password\" value={this.state.value} onChange={this.passwordchange}/>\n        <div className=\"file-field input-field\">\n   \t   \t<div className=\"btn #1e88e5 blue darken-1\">\n      \t\t  <span>Upload Image</span>\n      \t\t  <input type=\"file\" onChange={this.imagechange}/>\n     \t \t\t</div>\n     \t \t\t\t<div className=\"file-path-wrapper\">\n        \t\t\t<input className=\"file-path validate\" type=\"text\"/>\n      \t\t</div>\n    \t</div>\n          <button className=\"btn waves-effect waves-light #1e88e5 blue darken-1\" type=\"submit\" name=\"action\" onClick={this.submit}>\n    <i className=\" right #1e88e5 blue darken-1\">Signup</i>\n  </button>\n  <h5>\n  <Link to=\"/signin\">Already have an account ?</Link>\n  </h5>\n  </div>\n\t\t</div>\n\t}\n\telse{\n\t\treturn <Redirect to=\"/\"/>\t\n\t}\n\t}\n}\n","import React,{Component} from 'react';\nimport {Redirect,Link} from 'react-router-dom';\nexport default class Home extends Component{\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state={\n\t\t\tdata:[],\n\t\t\ttext:\"\",\n\t\t\tuser:JSON.parse(localStorage.getItem(\"user\"))\n\t\t}\t\n\t\tthis.comment=this.comment.bind(this);\n\t\tthis.textChange=this.textChange.bind(this);\n\t\tthis.deletepost=this.deletepost.bind(this);\n\t}\n\tcomponentDidMount(){\n\t\tconst requestOptions = {\n      \t\t\t\t  method: 'GET',\n      \t\t\t\t  headers: { 'Content-Type': 'application/json',\n      \t\t\t\t  \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\") }\n   \t };\n\t\tfetch(`http://localhost:5000/allpost`,requestOptions)\n\t\t.then(res=>res.json())\n\t\t.then(data=>{\n\t\t\tif(data.error){\n\t\t\t\t//M.toast({html: data.error,classes:'#c62828 red darken-3'})\t\t\t\n\t\t\t}\t\n\t\t\telse{\n\t\t\t\tthis.setState({data:data.posts});\t\n\t\t\t}\n\t\t})\n\t\t.catch(err=>{\n\t\t\tconsole.log(err);\t\t\n\t\t})\t\n\t}\n\ttextChange(e){\n\tthis.setState({text:e.target.value});\n\t}\n\tlike(id){\n\t\tconst requestOptions = {\n      \t\t\t\t  method: 'PUT',\n      \t\t\t\t  headers: { 'Content-Type': 'application/json',\n      \t\t\t\t  \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\") },\n      \t\t\t\t  body:JSON.stringify({postId:id})\n   \t };\n\t\tfetch(`http://localhost:5000/like`,requestOptions)\n\t\t.then(res=>res.json())\n\t\t.then(data=>{\n\t\t\tif(data.error){\n\t\t\t\t//M.toast({html: data.error,classes:'#c62828 red darken-3'})\t\t\t\n\t\t\t}\t\n\t\t\telse{\n\t\t\t\tconsole.log(data.posts);\n\t\t\t\tconst newData = this.state.data.map(item=>{\n\t\t\t\t\tif(item._id === data.posts._id){\n\t\t\t\t\t\t\treturn data.posts;\t\t\t\t\t\t\n\t\t\t\t\t\t}\t\t\t\t\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\treturn item;\n\t\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\tconsole.log(newData);\n\t\t\t\tthis.setState({data:newData});\n\t\t\t}\n\t\t})\n\t\t.catch(err=>{\n\t\t\tconsole.log(err);\t\t\n\t\t})\t\n\t}\n\t\n\tunlike(id){\n\t\tconst requestOptions = {\n      \t\t\t\t  method: 'PUT',\n      \t\t\t\t  headers: { 'Content-Type': 'application/json',\n      \t\t\t\t  \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")},\n      \t\t\t\t  body:JSON.stringify({postId:id} )\n   \t };\n\t\tfetch(`http://localhost:5000/unlike`,requestOptions)\n\t\t.then(res=>res.json())\n\t\t.then(data=>{\n\t\t\tif(data.error){\n\t\t\t\t//M.toast({html: data.error,classes:'#c62828 red darken-3'})\t\t\t\n\t\t\t}\t\n\t\t\telse{\n\t\t\t\tconst newData = this.state.data.map(item=>{\n\t\t\t\t\tif(item._id === data.posts._id){\n\t\t\t\t\t\t\treturn data.posts;\t\t\t\t\t\t\n\t\t\t\t\t\t}\t\t\t\t\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\treturn item;\n\t\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\tthis.setState({data:newData});\t\n\t\t\t}\n\t\t})\n\t\t.catch(err=>{\n\t\t\tconsole.log(err);\t\t\n\t\t})\t\n\t}\n\tcomment(id){\n\t\t\n\tconst requestOptions = {\n      \t\t\t\t  method: 'PUT',\n      \t\t\t\t  headers: { 'Content-Type': 'application/json',\n      \t\t\t\t  \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")},\n      \t\t\t\t  body:JSON.stringify({postId:id,text:this.state.text} )\n   \t };\n\t\tfetch(`http://localhost:5000/comment`,requestOptions)\n\t\t.then(res=>res.json())\n\t\t.then(data=>{\n\t\t\tif(data.error){\n\t\t\t\t//M.toast({html: data.error,classes:'#c62828 red darken-3'})\t\t\t\n\t\t\t}\t\n\t\t\telse{\n\t\t\t\tconst newData = this.state.data.map(item=>{\n\t\t\t\t\tif(item._id === data.posts._id){\n\t\t\t\t\t\t\treturn data.posts;\t\t\t\t\t\t\n\t\t\t\t\t\t}\t\t\t\t\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\treturn item;\n\t\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\tconsole.log(newData);\n\t\t\t\tthis.setState({data:newData});\t\n\t\t\t}\n\t\t})\n\t\t.catch(err=>{\n\t\t\tconsole.log(err);\t\t\n\t\t})\t\n\t}\n\tdeletepost(postid){\n\t\t\tconst requestOptions = {\n      \t\t\t\t  method: 'DELETE',\n      \t\t\t\t  headers: { 'Content-Type': 'application/json',\n      \t\t\t\t  \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")} };\n\t\tfetch(`http://localhost:5000/deletepost/${postid}`,requestOptions)\n\t\t.then(res=>res.json())\n\t\t.then(data=>{\n\t\t\tif(data.error){\n\t\t\t\t//M.toast({html: data.error,classes:'#c62828 red darken-3'})\t\t\t\n\t\t\t}\t\n\t\t\telse{\n\t\t\t\tconsole.log(data);\n\t\t\t\tconst newData = this.state.data.filter(item=>{\n\t\t\t\t\treturn item._id !== data.result._id\n\t\t\t\t})\n\t\t\t\tthis.setState({data:newData});\t\n\t\t\t}\n\t\t})\n\t\t.catch(err=>{\n\t\t\tconsole.log(err);\t\t\n\t\t})\t\n\t}\n\trender(){\n\t\tif(this.props.l){\n\t\treturn<div className=\"home\">\n\t\t{this.state.data.map((item,id)=>{return <div className=\"card home-card\" key={id}>\n\t\t\t\t<h5><Link to={item.postedBy._id==this.state.user._id?'/profile':'/profile/'+item.postedBy._id}>{item.postedBy.name}</Link>\n\t\t\t\t{item.postedBy._id===this.state.user._id? <i className=\"material-icons\" style={{float:\"right\"}} onClick={()=>{this.deletepost(item._id)}}>delete</i>:<div/>}\n\t\t\t\t  </h5>\n\t\t\t\t<div className=\"card-image\">\n\t\t\t\t\t<img src={item.photo} alt=\"\"/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"card-content\">\n\t\t\t\t  <i className=\"material-icons\" style={{color:\"red\"}}>favorite</i>\n\t\t\t\t  {item.likes.includes(this.state.user._id)?<i className=\"material-icons\" onClick={()=>{this.unlike(item._id)}}>thumb_down</i>:\n\t\t\t\t  <i className=\"material-icons\" onClick={()=>{this.like(item._id)}}>thumb_up</i>\n\t\t\t\t  }<h6>{item.likes.length} likes</h6>\n\t\t\t\t\t<h6>{item.title}</h6>\n\t\t\t\t\t<p>{item.body}</p>\n\t\t\t\t\t{\n\t\t\t\t\t\titem.comments.map((record,id)=>{\n\t\t\t\t\t\t\treturn <h6 key={id}><span><b>{record.postedBy.name}</b> {record.text}</span></h6>\t\t\t\t\t\t\n\t\t\t\t\t\t})\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t<input type=\"text\" value={this.state.text} onChange={this.textChange} placeholder=\"add a comment\"/>\n\t\t\t\t\t<button onClick={()=>{this.comment(item._id)}}>Comment</button>\n\t\t\t\t</div>\t\t\t\n\t\t\t</div>\n\t\t})\n\t\t}\n\t\t</div>\n\t}\n\telse{\n\t\treturn <Redirect to=\"/\"/>\t\n\t}\n\t}\n}\n","import React,{Component} from 'react';\nimport {Redirect} from 'react-router-dom';\nimport M from 'materialize-css';\nexport default class Signup extends Component{\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state={\n\t\t\tdata:[],\n\t\t\turl:\"\",\n\t\t\tuser:JSON.parse(localStorage.getItem(\"user\"))\t\n\t\t}\t\n\t\tconsole.log(this.state.user);\n\t\t//this.updatephoto = this.updatephoto.bind(this);\n\t\tthis.imagechange=this.imagechange.bind(this);\n\t}\n\timagechange(e){\n\t\tconst data = new FormData()\n\t\tdata.append(\"file\",e.target.files[0]);\n\t\tdata.append(\"upload_preset\",\"InstramClone\");\n\t\tdata.append(\"cloud_name\",\"instagram-image\");\n\t\tfetch(\"https://api.cloudinary.com/v1_1/instagram-image/image/upload\",{\n\t\t\tmethod:\"POST\",\n\t\t\tbody:data\t\t\n\t\t})\t\n\t\t.then(res=>res.json())\n\t\t.then(data=>{\n\t\t\tconsole.log(data.url);\n\t\t\tthis.setState({url:data.url});\t\n\t\t\tconst requestOptions = {\n        \tmethod: 'PUT',\n        \theaders: { 'Content-Type': 'application/json',\n      \t\t\t\t  \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\") },\n        \tbody: JSON.stringify({\n\t\t\t\t\turl:this.state.url})\n   \t };\n\t\tfetch(`http://localhost:5000/uploadpic`,requestOptions)\n\t\t\t.then(res=>res.json())\n\t\t\t.then(data=>{\n\t\t\t\tif(data.error){\n\t\t\t\t\tM.toast({html: \"An error occured while uploading the pic\",classes:'#c62828 red darken-3'})\t\t\t\n\t\t\t\t}\t\n\t\t\t\telse{\n\t\t\t\t\tM.toast({html: \"pic uploaded successfully\",classes:\"#388e3c green darken-2\"});\n\t\t\t\t\tconsole.log(data);\n\t\t\t\t\tlocalStorage.setItem(\"user\",JSON.stringify({name:this.state.user.name,email:this.state.user.email, _id:this.state.user._id, followers:this.state.user.followers, following:this.state.user.following,url:data.url}))\n\t\t\t\t\tthis.setState({url:data.url});\n\t\t\t\t}\n\t\t})\n\t\t.catch(err=>{\n\t\t\tconsole.log(err);\t\t\n\t\t})\t\t\n\t\t})\n\t\t.catch(err=>{\n\t})\n\t}\n\tcomponentDidMount(){\n\t\tconst requestOptions = {\n      \t\t\t\t  method: 'GET',\n      \t\t\t\t  headers: { 'Content-Type': 'application/json',\n      \t\t\t\t  \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\") }\n   \t };\n\t\tfetch(`http://localhost:5000/mypost`,requestOptions)\n\t\t.then(res=>res.json())\n\t\t.then(data=>{\n\t\t\tif(data.error){\n\t\t\t\t//M.toast({html: data.error,classes:'#c62828 red darken-3'})\t\t\t\n\t\t\t}\t\n\t\t\telse{\n\t\t\t\tconsole.log(data);\n\t\t\t\tthis.setState({data:data.mypost});\t\n\t\t\t}\n\t\t})\n\t\t.catch(err=>{\n\t\t\tconsole.log(err);\t\t\n\t\t})\t\t\n\t}\n\trender(){\n\t\tif(this.props.l){\n\t\treturn <div style={{maxWidth:\"1250px\" ,margin:\"0px auto\"}}> \n\t\t<div style={{ display:\"flex\",justifyContent:\"space-around\",margin:\"18px 0px\",borderBottom:\"2px solid grey\"}}>\n\t\t\t\t<div  style={{display:\"flex\",flexDirection:\"column\"}}>\n\t\t\t\t\t<img style={{width:\"160px\", height:\"160px\", borderRadius:\"80px\"}} src={this.state.user.url} alt=\"\"/>\n\t\t\t\t <div className=\"file-field input-field\">\n   \t   \t\t<div className=\"btn #1e88e5 blue darken-1\">\n      \t\t\t  <span>Upload Image</span>\n      \t\t\t  <input type=\"file\" onChange={this.imagechange}/>\n     \t \t\t\t</div>\n     \t \t\t\t<div className=\"file-path-wrapper\">\n        \t\t\t\t<input className=\"file-path validate\" type=\"text\"/>\n      \t\t\t</div>\n    \t   \t </div>\t\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<h4>{this.state.user.name}</h4>\n\t\t\t\t\t<h4>{this.state.user.email}</h4>\n\t\t\t\t\t<div style={{display:\"flex\",justifyContent:\"space-around\",width:\"108%\"}}>\n\t\t\t\t\t\t<h6>{this.state.data.length} posts</h6>\n\t\t\t\t\t\t{console.log(this.state.user)}\n\t\t\t\t\t\t<h6>{this.state.user.followers.length} followers</h6>\n\t\t\t\t\t\t<h6>{this.state.user.following.length} following </h6>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"galary\">\n\t\t\t\t{this.state.data.map((item, id)=>{\n\t\t\t\t\treturn <img key={id} className=\"item\" src={item.photo} alt=\"\"/>\t\t\t\t\n\t\t\t\t})}\n\t\t\t\t</div>\n\t\t</div>\n\t\t}\n\t\telse{\n\t\t\treturn <Redirect to=\"/signin\"/>\t\t\n\t\t}\n\t}\n}\n","import React,{Component} from 'react';\nimport {Redirect} from 'react-router-dom';\nimport M from 'materialize-css';\nexport default class CreatePost extends Component{\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state={\n\t\t\ttitle:\"\",\n\t\t\tbody:\"\",\n\t\t\timage:\"\",\n\t\t\turl:\"\"\t\n\t\t}\t\n\t\t\n\t\tthis.titlechange=this.titlechange.bind(this);\n\t\tthis.bodychange=this.bodychange.bind(this);\n\t\tthis.imagechange=this.imagechange.bind(this);\n\t\tthis.submit=this.submit.bind(this);\n\t\tthis.upload=this.upload.bind(this);\n\t}\n\tupload(e){\n\t\tconst data = new FormData()\n\t\tdata.append(\"file\",this.state.image);\n\t\tdata.append(\"upload_preset\",\"InstramClone\");\n\t\tdata.append(\"cloud_name\",\"instagram-image\");\n\t\tfetch(\"https://api.cloudinary.com/v1_1/instagram-image/image/upload\",{\n\t\t\tmethod:\"POST\",\n\t\t\tbody:data\t\t\n\t\t})\t\n\t\t.then(res=>res.json())\n\t\t.then(data=>{\n\t\t\tconsole.log(data.url);\n\t\t\tthis.setState({url:data.url});\t\n\t\t\tconst requestOptions = {\n      \t\t\t\t  method: 'POST',\n      \t\t\t\t  headers: { 'Content-Type': 'application/json',\n      \t\t\t\t  \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\") },\n      \t\t\t\t  body: JSON.stringify({url:this.state.url,\n\t\t\t\t\t\t\ttitle:this.state.title,\n\t\t\t\t\t\t\tbody:this.state.body})\n   \t };\n\t\tfetch(`http://localhost:5000/createpost`,requestOptions)\n\t\t.then(res=>res.json())\n\t\t.then(data=>{\n\t\t\tif(data.error){\n\t\t\t\tM.toast({html: data.error,classes:'#c62828 red darken-3'})\t\t\t\n\t\t\t}\t\n\t\t\telse{\n\t\t\t\tM.toast({html: 'Successfully created',classes:\"#388e3c green darken-2\"});\n\t\t\t\twindow.location='/signin';\t\n\t\t\t}\n\t\t})\n\t\t.catch(err=>{\n\t\t\tconsole.log(err);\t\t\n\t\t})\n\t\t})\n\t\t.catch(err=>{console.log(err)});\n\t}\n\ttitlechange(e){\n\t\tthis.setState({title:e.target.value});\t\n\t}\n\tbodychange(e){\n\t\tthis.setState({body:e.target.value});\t\n\t}\n\timagechange(e){\n\t\tconsole.log(e.target.files[0]);\n\t\tthis.setState({image:e.target.files[0]});\t\n\t}\n\tsubmit(e){\n\t\te.preventDefault();\n\t\t\n\t}\n\trender(){\n\t\tif(this.props.l){\n\t\treturn(\n\t\t\t<div className=\"card input-field\" style={{margin:\"30px auto\",maxWidth:\"500px\",padding:\"20px\",textAlign:\"center\"}}>\n\t\t\t\t<input type=\"text\" placeholder=\"title\" value={this.state.title} onChange={this.titlechange}/>\n\t\t\t\t<input type=\"text\" placeholder=\"body\" value={this.state.body} onChange={this.bodychange}/>\n\t\t\t\t<div className=\"file-field input-field\">\n   \t\t   \t<div className=\"btn #1e88e5 blue darken-1\">\n      \t\t\t  <span>Upload Image</span>\n      \t\t\t  <input type=\"file\" onChange={this.imagechange}/>\n     \t\t \t\t</div>\n     \t\t \t\t\t<div className=\"file-path-wrapper\">\n      \t  \t\t\t<input className=\"file-path validate\" type=\"text\"/>\n      \t  \t\t\t\n      \t\t\t</div>\n    \t\t\t</div>\n    \t\t\t<button className=\"btn waves-effect waves-light #1e88e5 blue darken-1\" type=\"submit\" name=\"action\">\n    \t\t\t<i className=\" right #1e88e5 blue darken-1\" onClick={this.upload}>Submit Post</i>\n  \t\t\t\t</button>\n\t\t\t</div>\t\t\n\t\t)\n\t\t}\n\t\telse{\n\t\t\treturn <Redirect to=\"/signin\"/>\t\t\n\t\t}\t\n\t}\n}","import React,{Component} from 'react';\nimport {Redirect} from 'react-router-dom';\nArray.prototype.remove = function(value) {\n\tfor (var i = this.length; i--; ) {\n\t\tif (this[i] === value) {\n\t\t\tthis.splice(i, 1);\n\t\t}\n\t}\n}\n\nexport default class Signup extends Component{\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state={\n\t\t\tdata:{\n\t\t\t\tuser:{\n\t\t\t\t    email:\"\",\n\t\t\t\t    name:\"\",\n\t\t\t\t    url:\"\",\n\t\t\t\t    followers:[],\n\t\t\t\t    following:[]\n\t\t\t\t},\n\t\t\t\tpost:[\n\t\t\t\t\n\t\t\t\t]\t\t\t\t\n\t\t\t},\n\t\t\tuser:JSON.parse(localStorage.getItem(\"user\")),\n\t\t\tid:window.location.pathname.split(\"/\")[2],\n\t\t\tf:true\n\t\t}\t\n\t\tthis.follow=this.follow.bind(this);\n\t\tthis.unfollow=this.unfollow.bind(this);\n\t}\n\tcomponentDidMount(){\n\t\tconst requestOptions = {\n      \t\t\t\t  method: 'GET',\n      \t\t\t\t  headers: { 'Content-Type': 'application/json',\n      \t\t\t\t  \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")}\n   \t };\n\t\tfetch(`http://localhost:5000/user/${this.state.id}`,requestOptions)\n\t\t.then(res=>res.json())\n\t\t.then(data=>{\n\t\t\tif(data.error){\n\t\t\t\t//M.toast({html: data.error,classes:'#c62828 red darken-3'})\t\t\t\n\t\t\t}\t\n\t\t\telse{\n\t\t\t\tconsole.log(data);\n\t\t\t\tif(data.user.followers.includes(this.state.id))\n\t\t\t\t\tthis.state.f=false;\n\t\t\t\tthis.setState({data:data});\n\t\t\t}\n\t\t})\n\t\t.catch(err=>{\n\t\t\tconsole.log(err);\t\t\n\t\t})\t\t\n\t}\n\tfollow(){\n\t\t\tconst requestOptions = {\n      \t\t\t\t  method: 'PUT',\n      \t\t\t\t  headers: { 'Content-Type': 'application/json',\n      \t\t\t\t  \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")},\n      \t\t\t\t  body:JSON.stringify({followId:this.state.id})\n   \t };\n\t\tfetch(`http://localhost:5000/follow`,requestOptions)\n\t\t.then(res=>res.json())\n\t\t.then(data=>{\n\t\t\tif(data.error){\n\t\t\t\t//M.toast({html: data.error,classes:'#c62828 red darken-3'})\t\t\t\n\t\t\t}\t\n\t\t\telse{\n\t\t\t\tconsole.log(data);\n\t\t\t\tvar dat = this.state.data;\n\t\t\t\tdat.user = data;\n\t\t\t\tthis.setState({data:dat});\n\t\t\t\tvar user=this.state.user;\n\t\t\t\tuser.following.push(this.state.id);\n\t\t\t\tlocalStorage.setItem(\"user\",JSON.stringify({name:user.name,email:user.email, _id:user._id, followers:user.followers, following:user.following,url:user.url}))\n\t\t\t\t // updating only data.user detail so that user can see detail of another user\n\t\t\t\t this.setState({f:true});\n\t\t\t}\n\t\t})\n\t\t.catch(err=>{\n\t\t\tconsole.log(err);\t\t\n\t\t})\t\t\n\t}\n\tunfollow(){\n\t\t\tconst requestOptions = {\n      \t\t\t\t  method: 'PUT',\n      \t\t\t\t  headers: { 'Content-Type': 'application/json',\n      \t\t\t\t  \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")},\n      \t\t\t\t  body:JSON.stringify({unfollowId:this.state.id})\n   \t };\n\t\tfetch(`http://localhost:5000/unfollow`,requestOptions)\n\t\t.then(res=>res.json())\n\t\t.then(data=>{\n\t\t\tif(data.error){\n\t\t\t\t//M.toast({html: data.error,classes:'#c62828 red darken-3'})\t\t\t\n\t\t\t}\t\n\t\t\telse{\n\t\t\t\tconsole.log(data);\n\t\t\t\tvar dat = this.state.data;\n\t\t\t\tdat.user = data;\n\t\t\t\tthis.setState({data:dat}); // updating only data.user detail so that user can see detail of another user\n\t\t\t\t\n\t\t\t\tvar user=this.state.user;\n\t\t\t\tuser.following.remove(this.state.id);\n\t\t\t\tconsole.log(\"user\"+user);\n\t\t\t\t//localStorage.setItem(\"user\",JSON.stringify({_id:data._id,email:data.email,name:data.name,followers:data.followers,following:data.following}))\n\t\t\t\tlocalStorage.setItem(\"user\",JSON.stringify({name:user.name,email:user.email, _id:user._id, followers:user.followers, following:user.following,url:user.url}))\n\t\t\t\t this.setState({f:false});\n\t\t\t}\n\t\t})\n\t\t.catch(err=>{\n\t\t\tconsole.log(err);\t\t\n\t\t})\t\t\n\t}\n\trender(){\n\t\tif(this.props.l){\n\t\treturn <div style={{maxWidth:\"1250px\" ,margin:\"0px auto\"}}> \n\t\t<div style={{ display:\"flex\",justifyContent:\"space-around\",margin:\"18px 0px\",borderBottom:\"2px solid grey\"}}>\n\t\t\t\t<div  >\n\t\t\t\t\t<img style={{width:\"160px\", height:\"160px\", borderRadius:\"80px\"}} src={this.state.data.user.url} alt=\"\"/>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<h4>{this.state.data.user.name}</h4>\n\t\t\t\t\t<h4>{this.state.data.user.email}</h4>\n\t\t\t\t\t<div style={{display:\"flex\",justifyContent:\"space-around\",width:\"108%\"}}>\n\t\t\t\t\t\t<h6>{this.state.data.post.length} posts</h6>\n\t\t\t\t\t\t<h6>{this.state.data.user.followers.length} followers</h6>\n\t\t\t\t\t\t<h6>{this.state.data.user.following.length} following </h6>\n\t\t\t\t\t\t{this.state.f===false?<button className=\"btn waves-effect waves-light #1e88e5 blue darken-1\" type=\"submit\" name=\"action\" onClick={this.follow}>\n    <i className=\" right #1e88e5 blue darken-1\">Follow</i>\n  </button>:\n  <button className=\"btn waves-effect waves-light #1e88e5 blue darken-1\" type=\"submit\" name=\"action\" onClick={this.unfollow}>\n    <i className=\" right #1e88e5 blue darken-1\">Unfollow</i>\n  </button>}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"galary\">\n\t\t\t\t{this.state.data.post.map((item, id)=>{\n\t\t\t\t\treturn <img key={id} className=\"item\" src={item.photo} alt=\"\"/>\t\t\t\t\n\t\t\t\t})}\n\t\t\t\t</div>\n\t\t</div>\n\t\t}\n\t\telse{\n\t\t\treturn <Redirect to=\"/signin\"/>\t\t\n\t\t}\n\t}\n}\n","import React,{Component} from 'react';\nimport {Link,Redirect} from 'react-router-dom';\nimport M from 'materialize-css';\nexport default class Login extends Component{\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state={\n\t\t\temail:\"\"\n\t\t}\n\t\tthis.emailchange=this.emailchange.bind(this);\n\t\tthis.submit=this.submit.bind(this);\n\t}\n\temailchange(e){\n\t\tthis.setState({email:e.target.value});\t\n\t}\n\tsubmit(e){\n\te.preventDefault();\n\tif(!/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(this.state.email)){\n\t\t\tM.toast({html: 'Invalid email address',classes:'#c62828 red darken-3'})\t\n\t}\n\telse{\n\tconst requestOptions = {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n\t\t\t\temail:this.state.email})\n    };\n\tfetch(`http://localhost:5000/resetpassword`,requestOptions)\n\t\t.then(res=>res.json())\n\t\t.then(data=>{\n\t\t\tif(data.error){\n\t\t\t\tM.toast({html: data.error,classes:'#c62828 red darken-3'})\t\t\t\n\t\t\t}\t\n\t\t\telse{\n\t\t\t\tM.toast({html: 'Check  your email',classes:\"#388e3c green darken-2\"});\n\t\t\t\twindow.location='/signin';\n\t\t\t}\n\t\t})\n\t\t.catch(err=>{\n\t\t\tconsole.log(err);\t\t\n\t\t})\n\t}\n\t}\n\trender(){\n\t\treturn<div class=\"mycard\">\n      <div className=\"card authcard input-field\">\n        <h2>Instagram</h2>\n        <input type=\"text\" placeholder=\"email\" value={this.email} onChange={this.emailchange}/>\n          <button className=\"btn waves-effect waves-light #1e88e5 blue darken-1\" type=\"submit\" name=\"action\" onClick={this.submit}>\n    <i className=\" right #1e88e5 blue darken-1\">Send Email</i>\n  </button>\n  </div>\n\t\t</div>\n\t}\n}\n","import React,{Component} from 'react';\nimport {Link,Redirect} from 'react-router-dom';\nimport M from 'materialize-css';\n\n// sendgrid api key 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\nexport default class SignUp extends Component{\n\t\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state={\n\t\t\tpassword:\"\"\t\n\t\t}\n\t\tthis.passwordchange=this.passwordchange.bind(this);\n\t\tthis.submit=this.submit.bind(this);\n\t}\n\tpasswordchange(e){\n\t\tthis.setState({password:e.target.value});\t\n\t}\n\tsubmit(e){\n\te.preventDefault();\n\t\tconst requestOptions = {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({token:window.location.pathname.split(\"/\")[2],\n\t\t\t\tpassword:this.state.password,})\n    };\n\tfetch(`http://localhost:5000/changepassword`,requestOptions)\n\t\t.then(res=>res.json())\n\t\t.then(data=>{\n\t\t\tif(data.error){\n\t\t\t\tM.toast({html: \"An error occured, please retry after sometime\",classes:'#c62828 red darken-3'})\t\t\t\n\t\t\t}\t\n\t\t\telse{\n\t\t\t\tM.toast({html: \"password successfully updated\",classes:\"#388e3c green darken-2\"});\n\t\t\t\twindow.location='/signin';\t\n\t\t\t}\n\t\t})\n\t\t.catch(err=>{\n\t\t\tconsole.log(err);\t\t\n\t\t})\t\t\n\n\t}\n\trender(){\n\t\treturn<div class=\"mycard\">\n      <div className=\"card authcard input-field\">\n        <h2>Instagram</h2>\n        <input type=\"text\" placeholder=\"Password\" value={this.state.value} onChange={this.passwordchange}/>\n          <button className=\"btn waves-effect waves-light #1e88e5 blue darken-1\" type=\"submit\" name=\"action\" onClick={this.submit}>\n    <i className=\" right #1e88e5 blue darken-1\">Reset Password</i></button>\n  </div>\n\t\t</div>\n\t}\n}\n","import React,{Component} from 'react';\nimport {Redirect,Link} from 'react-router-dom';\nexport default class Home extends Component{\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state={\n\t\t\tdata:[],\n\t\t\ttext:\"\",\n\t\t\tuser:JSON.parse(localStorage.getItem(\"user\"))\n\t\t}\t\n\t\tthis.comment=this.comment.bind(this);\n\t\tthis.textChange=this.textChange.bind(this);\n\t\tthis.deletepost=this.deletepost.bind(this);\n\t}\n\tcomponentDidMount(){\n\t\tconst requestOptions = {\n      \t\t\t\t  method: 'GET',\n      \t\t\t\t  headers: { 'Content-Type': 'application/json',\n      \t\t\t\t  \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\") }\n   \t };\n\t\tfetch(`http://localhost:5000/getsubpost`,requestOptions)\n\t\t.then(res=>res.json())\n\t\t.then(data=>{\n\t\t\tif(data.error){\n\t\t\t\t//M.toast({html: data.error,classes:'#c62828 red darken-3'})\t\t\t\n\t\t\t}\t\n\t\t\telse{\n\t\t\t\tthis.setState({data:data.posts});\t\n\t\t\t}\n\t\t})\n\t\t.catch(err=>{\n\t\t\tconsole.log(err);\t\t\n\t\t})\t\n\t}\n\ttextChange(e){\n\tthis.setState({text:e.target.value});\n\t}\n\tlike(id){\n\t\tconst requestOptions = {\n      \t\t\t\t  method: 'PUT',\n      \t\t\t\t  headers: { 'Content-Type': 'application/json',\n      \t\t\t\t  \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\") },\n      \t\t\t\t  body:JSON.stringify({postId:id})\n   \t };\n\t\tfetch(`http://localhost:5000/like`,requestOptions)\n\t\t.then(res=>res.json())\n\t\t.then(data=>{\n\t\t\tif(data.error){\n\t\t\t\t//M.toast({html: data.error,classes:'#c62828 red darken-3'})\t\t\t\n\t\t\t}\t\n\t\t\telse{\n\t\t\t\tconsole.log(data.posts);\n\t\t\t\tconst newData = this.state.data.map(item=>{\n\t\t\t\t\tif(item._id === data.posts._id){\n\t\t\t\t\t\t\treturn data.posts;\t\t\t\t\t\t\n\t\t\t\t\t\t}\t\t\t\t\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\treturn item;\n\t\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\tconsole.log(newData);\n\t\t\t\tthis.setState({data:newData});\n\t\t\t}\n\t\t})\n\t\t.catch(err=>{\n\t\t\tconsole.log(err);\t\t\n\t\t})\t\n\t}\n\t\n\tunlike(id){\n\t\tconst requestOptions = {\n      \t\t\t\t  method: 'PUT',\n      \t\t\t\t  headers: { 'Content-Type': 'application/json',\n      \t\t\t\t  \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")},\n      \t\t\t\t  body:JSON.stringify({postId:id} )\n   \t };\n\t\tfetch(`http://localhost:5000/unlike`,requestOptions)\n\t\t.then(res=>res.json())\n\t\t.then(data=>{\n\t\t\tif(data.error){\n\t\t\t\t//M.toast({html: data.error,classes:'#c62828 red darken-3'})\t\t\t\n\t\t\t}\t\n\t\t\telse{\n\t\t\t\tconst newData = this.state.data.map(item=>{\n\t\t\t\t\tif(item._id === data.posts._id){\n\t\t\t\t\t\t\treturn data.posts;\t\t\t\t\t\t\n\t\t\t\t\t\t}\t\t\t\t\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\treturn item;\n\t\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\tthis.setState({data:newData});\t\n\t\t\t}\n\t\t})\n\t\t.catch(err=>{\n\t\t\tconsole.log(err);\t\t\n\t\t})\t\n\t}\n\tcomment(id){\n\t\t\n\tconst requestOptions = {\n      \t\t\t\t  method: 'PUT',\n      \t\t\t\t  headers: { 'Content-Type': 'application/json',\n      \t\t\t\t  \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")},\n      \t\t\t\t  body:JSON.stringify({postId:id,text:this.state.text} )\n   \t };\n\t\tfetch(`http://localhost:5000/comment`,requestOptions)\n\t\t.then(res=>res.json())\n\t\t.then(data=>{\n\t\t\tif(data.error){\n\t\t\t\t//M.toast({html: data.error,classes:'#c62828 red darken-3'})\t\t\t\n\t\t\t}\t\n\t\t\telse{\n\t\t\t\tconst newData = this.state.data.map(item=>{\n\t\t\t\t\tif(item._id === data.posts._id){\n\t\t\t\t\t\t\treturn data.posts;\t\t\t\t\t\t\n\t\t\t\t\t\t}\t\t\t\t\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\treturn item;\n\t\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\tconsole.log(newData);\n\t\t\t\tthis.setState({data:newData});\t\n\t\t\t}\n\t\t})\n\t\t.catch(err=>{\n\t\t\tconsole.log(err);\t\t\n\t\t})\t\n\t}\n\tdeletepost(postid){\n\t\t\tconst requestOptions = {\n      \t\t\t\t  method: 'DELETE',\n      \t\t\t\t  headers: { 'Content-Type': 'application/json',\n      \t\t\t\t  \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")} };\n\t\tfetch(`http://localhost:5000/deletepost/${postid}`,requestOptions)\n\t\t.then(res=>res.json())\n\t\t.then(data=>{\n\t\t\tif(data.error){\n\t\t\t\t//M.toast({html: data.error,classes:'#c62828 red darken-3'})\t\t\t\n\t\t\t}\t\n\t\t\telse{\n\t\t\t\tconsole.log(data);\n\t\t\t\tconst newData = this.state.data.filter(item=>{\n\t\t\t\t\treturn item._id !== data.result._id\n\t\t\t\t})\n\t\t\t\tthis.setState({data:newData});\t\n\t\t\t}\n\t\t})\n\t\t.catch(err=>{\n\t\t\tconsole.log(err);\t\t\n\t\t})\t\n\t}\n\trender(){\n\t\tif(this.props.l){\n\t\treturn<div className=\"home\">\n\t\t{this.state.data.map((item,id)=>{return <div className=\"card home-card\" key={id}>\n\t\t\t\t<h5><Link to={item.postedBy._id==this.state.user._id?'/profile':'/profile/'+item.postedBy._id}>{item.postedBy.name}</Link>\n\t\t\t\t{item.postedBy._id===this.state.user._id? <i className=\"material-icons\" style={{float:\"right\"}} onClick={()=>{this.deletepost(item._id)}}>delete</i>:<div/>}\n\t\t\t\t  </h5>\n\t\t\t\t<div className=\"card-image\">\n\t\t\t\t\t<img src={item.photo} alt=\"\"/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"card-content\">\n\t\t\t\t  <i className=\"material-icons\" style={{color:\"red\"}}>favorite</i>\n\t\t\t\t  {item.likes.includes(this.state.user._id)?<i className=\"material-icons\" onClick={()=>{this.unlike(item._id)}}>thumb_down</i>:\n\t\t\t\t  <i className=\"material-icons\" onClick={()=>{this.like(item._id)}}>thumb_up</i>\n\t\t\t\t  }<h6>{item.likes.length} likes</h6>\n\t\t\t\t\t<h6>{item.title}</h6>\n\t\t\t\t\t<p>{item.body}</p>\n\t\t\t\t\t{\n\t\t\t\t\t\titem.comments.map((record,id)=>{\n\t\t\t\t\t\t\treturn <h6 key={id}><span><b>{record.postedBy.name}</b> {record.text}</span></h6>\t\t\t\t\t\t\n\t\t\t\t\t\t})\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t<input type=\"text\" value={this.state.text} onChange={this.textChange} placeholder=\"add a comment\"/>\n\t\t\t\t\t<button onClick={()=>{this.comment(item._id)}}>Comment</button>\n\t\t\t\t</div>\t\t\t\n\t\t\t</div>\n\t\t})\n\t\t}\n\t\t</div>\n\t}\n\telse{\n\t\treturn <Redirect to=\"/\"/>\t\n\t}\n\t}\n}\n","import React,{Component} from 'react';\nimport './App.css';\nimport Navbar from './Component/Navbar';\nimport {BrowserRouter,Route} from 'react-router-dom';\nimport Login from './Component/Login.js';\nimport Signup from './Component/Signup';\nimport Home from './Component/Home';\nimport Profile from './Component/Profile';\nimport CreatePost from './Component/createPost';\nimport UserProfile from './Component/UserProfile';\nimport Reset from './Component/reset';\nimport Forgot from './Component/forgotpassword';\nimport Myfollowers from './Component/SubscribeComponent';\nclass App extends Component{\n\tconstructor(props){\n\t\tsuper(props);\t\n\t\tthis.state={\n\t\t\tl:localStorage.getItem(\"jwt\")?true:false\t\t\n\t\t}\n\t\tthis.change=this.change.bind(this);\n\t\tthis.change1=this.change1.bind(this);\n\t}\n\tchange(){\n\t\tthis.setState({l:true});\t\n\t}\n\tchange1(){\n\t\tthis.setState({l:false});\t\n\t}\n  render(){\n  \treturn (\n    <div className=\"App\">\n    \n    <BrowserRouter>\n    \t<Navbar l={this.state.l} change={this.change} change1={this.change1}/>\n      <Route exact path=\"/\"><Home l={this.state.l} change={this.change} change1={this.change1}/> </Route>\n      <Route exact path=\"/signin\"><Login l={this.state.l} change={this.change} change1={this.change1}/></Route>\n      <Route exact path=\"/signup\"><Signup l={this.state.l} change={this.change} change1={this.change1}/></Route>\n      <Route exact path=\"/profile\"><Profile l={this.state.l} change={this.change} change1={this.change1}/></Route>\n      <Route exact path=\"/profile/:userid\"><UserProfile l={this.state.l} change={this.change} change1={this.change1}/></Route>\n      <Route exact path=\"/create\"><CreatePost l={this.state.l} change={this.change} change1={this.change1}/></Route>\t\n      <Route exact path=\"/mysubpost\"><Myfollowers l={this.state.l} change={this.change} change1={this.change1}/></Route>\n      <Route exact path=\"/reset\"><Reset/></Route>\n      <Route exact path=\"/reset/:token\"><Forgot/></Route>\n    </BrowserRouter>\n    </div>\n  );}\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}